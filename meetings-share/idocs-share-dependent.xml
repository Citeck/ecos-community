<?xml version='1.0' encoding='UTF-8'?>
<project xmlns:artifact="antlib:org.apache.maven.artifact.ant" name="idocs-share-dependent" default="resolve-dependencies">
    <import file="../share-macros.xml"/>

    <property name="1st-override-share.version" value="${idocs-core.version}"/>
    <property name="1st-override-share.classifier" value="${idocs-core.classifier}"/>

    <property name="idocs-share.version" value="${idocs-core.version}"/>
    <property name="idocs-share.classifier" value="${idocs-core.classifier}"/>

    <path id="project.classpath">
        <fileset refid="1st-override-share.jar"/>
        <fileset refid="idocs-share.jar"/>
    </path>

    <target name="declare-repository">
        <artifact:remoteRepository id="citeck.repository" url="${citeck.artifacts.url}">
            <authentication username="${citeck.artifacts.user}" password="${citeck.artifacts.password}"/>
            <snapshots updatePolicy="${citeck.artifacts.updatePolicy}"/>
        </artifact:remoteRepository>
    </target>

    <target name="resolve-dependencies" depends="declare-repository">
        <resolve-dependency
                groupId="ru.citeck.idocs.core"
                artifactId="1st-override-share"
                version="${1st-override-share.version}"
                classifier="${1st-override-share.classifier}"
                type="jar"
                repository="citeck.repository"/>
        <resolve-dependency
                groupId="ru.citeck.idocs.core"
                artifactId="idocs-share"
                version="${idocs-share.version}"
                classifier="${idocs-share.classifier}"
                type="jar"
                repository="citeck.repository"/>
    </target>

    <target name="package-dependencies" depends="declare-repository">
        <copy-dependency todir="${dist.deps.dir}"
                groupId="ru.citeck.idocs.core"
                artifactId="1st-override-share"
                version="${1st-override-share.version}"
                classifier="${1st-override-share.classifier}"
                type="amp"
                repository="citeck.repository"/>
        <copy-dependency todir="${dist.deps.dir}"
                groupId="ru.citeck.idocs.core"
                artifactId="idocs-share"
                version="${idocs-share.version}"
                classifier="${idocs-share.classifier}"
                type="amp"
                repository="citeck.repository"/>
    </target>

</project>
